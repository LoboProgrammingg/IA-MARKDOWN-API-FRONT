{% extends "core/base.html" %}
{% load static %}

{% block title %}Login - UGGOV IA{% endblock %}

{% block content %}
<!-- 
  ===============================================================
  1. BACKGROUND ELEGANTE E TECNOLÓGICO
  ===============================================================
  - Um gradiente suave e "blobs" decorativos com efeito de blur criam uma
    sensação de profundidade e um visual de alta tecnologia.
-->
<div class="min-h-screen flex items-center justify-center bg-slate-100 dark:bg-gray-900 relative overflow-hidden px-4 py-16">
    <!-- Blobs Decorativos -->
    <div class="absolute inset-0 pointer-events-none">
        <div class="absolute -top-32 -left-24 w-96 h-96 bg-uggovBlue/20 dark:bg-uggovBlue/30 rounded-full blur-3xl animate-pulse"></div>
        <div class="absolute -bottom-40 right-0 w-[28rem] h-[28rem] bg-sky-300/20 dark:bg-sky-500/20 rounded-full blur-3xl animate-pulse [animation-delay:-5s]"></div>
    </div>

    <div class="w-full max-w-md z-10">
        <!-- 
          ===============================================================
          2. CARD COM EFEITO "GLASSMORPHISM"
          ===============================================================
          - bg-white/80 e backdrop-blur dão o efeito de vidro fosco.
          - Sombras e anéis sutis (shadow e ring) fazem o card "flutuar".
        -->
        <div class="relative bg-white/80 dark:bg-slate-800/80 backdrop-blur-2xl p-8 sm:p-12 rounded-2xl shadow-2xl dark:shadow-uggovBlue/10 border border-slate-200/50 dark:border-slate-700/50">
            <!-- Cabeçalho com Logo -->
            <div class="flex flex-col items-center mb-10 text-center">
                <a href="{% url 'home' %}" class="mb-4">
                    <span class="text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-uggovBlue-800 to-uggovBlue-500 dark:from-sky-400 dark:to-cyan-300">
                        MTI IA
                    </span>
                </a>
                <h1 class="text-2xl font-bold text-slate-800 dark:text-white tracking-tight">Acesso à Plataforma</h1>
                <p class="text-slate-500 dark:text-slate-400 text-sm font-medium mt-1">Utilize suas credenciais corporativas.</p>
            </div>

            <!-- Mensagem de Erro com Animação -->
            {% if form.errors %}
                <div class="bg-red-50 dark:bg-red-900/30 border-l-4 border-red-500 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg mb-8 flex items-center gap-3 animate-shake" role="alert">
                    <i class="bi bi-exclamation-triangle-fill text-red-500 flex-shrink-0"></i>
                    <div>
                        <strong class="font-bold">Acesso negado!</strong>
                        <span class="block text-sm">Usuário ou senha inválidos. Tente novamente.</span>
                    </div>
                </div>
            {% endif %}

            <!-- Formulário -->
            <form method="post" action="{% url 'login' %}" class="space-y-6">
                {% csrf_token %}
                <!-- Campo de Usuário com Ícone Interno -->
                <div>
                    <label for="id_username" class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">
                        Usuário
                    </label>
                    <div class="relative">
                        <div class="pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3.5">
                            <i class="bi bi-person text-slate-400"></i>
                        </div>
                        <input type="text" name="username" id="id_username" required autofocus autocomplete="username"
                               class="w-full pl-10 pr-4 py-3 border border-slate-300 dark:border-slate-600 rounded-lg bg-slate-50 dark:bg-slate-700 shadow-sm focus:bg-white dark:focus:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-uggovBlue/60 transition placeholder-slate-400"
                               placeholder="Digite seu usuário">
                    </div>
                </div>

                <!-- Campo de Senha com Ícone Interno -->
                <div>
                    <label for="id_password" class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">
                        Senha
                    </label>
                    <div class="relative">
                        <div class="pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3.5">
                            <i class="bi bi-lock text-slate-400"></i>
                        </div>
                        <input type="password" name="password" id="id_password" required autocomplete="current-password"
                               class="w-full pl-10 pr-4 py-3 border border-slate-300 dark:border-slate-600 rounded-lg bg-slate-50 dark:bg-slate-700 shadow-sm focus:bg-white dark:focus:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-uggovBlue/60 transition placeholder-slate-400"
                               placeholder="Digite sua senha">
                    </div>
                </div>

                <!-- Botão de Entrar -->
                <button type="submit" class="w-full flex justify-center items-center gap-2 py-3 px-4 border border-transparent rounded-lg shadow-md text-base font-bold text-white bg-uggovBlue hover:bg-opacity-90 transition focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-900 focus:ring-uggovBlue">
                    Entrar
                    <i class="bi bi-arrow-right-short text-xl"></i>
                </button>
            </form>
        </div>

        <div class="mt-8 text-xs text-slate-500 dark:text-slate-600 text-center select-none">
            &copy; {% now "Y" %} <span class="font-semibold">MTI</span>. Todos os direitos reservados.
        </div>
    </div>
</div>

<!-- 
  ===============================================================
  4. ANIMAÇÃO DE SHAKE PARA ERROS
  ===============================================================
  - Uma animação sutil que "treme" o alerta de erro, chamando
    a atenção do usuário de forma intuitiva.
-->
<style>
@keyframes shake {
  10%, 90% { transform: translateX(-1px); }
  20%, 80% { transform: translateX(2px); }
  30%, 50%, 70% { transform: translateX(-4px); }
  40%, 60% { transform: translateX(4px); }
}
.animate-shake {
  animation: shake 0.35s;
}
</style>
{% endblock %}
